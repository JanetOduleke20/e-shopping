<form class="mx-auto col-6 my-2 card rounded-3" [formGroup]="productForm">
    <div class="row  d-flex w-100 jusfify-content-between px-2 py-1">
        <h4>Add new product</h4>
        <!-- <button class="btn">X</button> -->
    </div>

    <div class="mx-2">
        <div class="form-group my-2">
            <label for="">Product Name</label>
            <input type="text" class="form-control" placeholder="Enter Product Name" formControlName="productName" [class.is-invalid]="productForm.get('productName')?.errors && productForm.get('productName')?.touched">
        </div>

        @if (productForm.get('productName')?.errors && productForm.get('productName')?.touched) {
            <span class="text-danger text-sm" *ngIf="productForm.get('productName')?.hasError('required')">Product name is required</span>
            <span class="text-danger text-sm" *ngIf="productForm.get('productName')?.hasError('minlength')">Product name cannot be less than 4 characters</span>

        }   

        <div class="row d-flex">
            <div class="form-group my-2 col-6">
                <label for="">Category</label>
                <input type="text" class="form-control"  formControlName="category" placeholder="Enter Product Name"  [class.is-invalid]="productForm.get('category')?.errors && productForm.get('category')?.touched">
            </div>

             @if (productForm.get('category')?.errors && productForm.get('category')?.touched) {
            <span class="text-danger text-sm" *ngIf="productForm.get('category')?.hasError('required')">Category is required</span>
            <span class="text-danger text-sm" *ngIf="productForm.get('category')?.hasError('minlength')">Category cannot be less than 5 characters</span>

        }   

            <div class="form-group my-2 col-6">
                <label for="">Price</label>
                <input type="text" class="form-control" placeholder="Enter Product Name">
            </div>
        </div>

        <div class="row d-flex">
            <div class="form-group my-2 col-6">
                <label for="">Quantity</label>
                <input type="text" class="form-control" placeholder="Enter Product Name">
            </div>

            <div class="form-group my-2 col-6">
                <label for="">Discount</label>
                <input type="text" class="form-control" placeholder="Enter Product Name">
            </div>
        </div>

        <div class="form-group mb-2">
            <label for="">Description</label>
            <textarea name="" id="" class="form-control"></textarea>
        </div>

        <div class="form-group mb-2">
            <label for="">Product Image</label>
           
            <div class="border rounded-2 border-secondary d-flex justify-content-center align-items-center text-center py-5 position-relative"   >
                <input type="file"  id="fileInput" (change)="chooseImages($event)" style="cursor: pointer;" multiple>
                <div>
                    <span class="fw-medium text-secondary-emphasis d-block">Click to add or upload images</span> 
                    <span class=" text-secondary-emphasis d-block">PNG, JPG, JPEG</span>
                    
                </div>
            </div>
        </div>

        <div class="row d-flex justify-content-between w-100">
            @for (image of previewImages; track $index) {
                <!-- <div class="card rounded-3 col-3" style="width: 25%; height: 100px;"> -->
                    <img src={{image}} alt="">
                <!-- </div> -->

            }
        </div>
        

        <div class="mb-2">
            <button class="btn btn-dark" (click)="addProduct()" [disabled]="productForm.invalid">Add product</button>
        </div>

    </div>
</form>